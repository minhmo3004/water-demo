<div class="detail-container">
  <!-- Header với nút back -->
  <div class="header-section">
    <button class="back-button" (click)="goBack()">
      <i class="fas fa-arrow-left"></i>
    </button>
    <h2 class="page-title">{{ meterName() }} - Dữ liệu dự đoán thời gian thực</h2>
  </div>

  <!-- Bảng dữ liệu -->
  <div class="table-wrapper">
    <table class="detail-table">
      <thead>
        <tr>
          <th>Thời gian</th>
          <th>Lưu lượng (L/h)</th>
          <th>Dự đoán</th>
          <th>Độ chắc chắn</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of detailData()" [class.anomaly-row]="item.prediction === 1">
          <td>{{ formatDate(item.timeStamp) }}</td>
          <td>{{ item.flow | number:'1.1-1' }}</td>
          <td>{{ getStatusText(item.prediction) }}</td>
          <td>
            <span *ngIf="item.prediction === 1" [class]="'confidence-badge ' + getConfidenceClass(item.predConfidence)">
              {{ (item.predConfidence * 100) | number:'1.1-1' }}%
            </span>
            <span *ngIf="item.prediction !== 1" class="no-confidence">-</span>
          </td>
        </tr>
        <tr *ngIf="detailData().length === 0">
          <td colspan="4" class="no-data">Không có dữ liệu</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
